{% extends "base_admin.html" %}
{% block title %}çµŒç†ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰{% endblock %}

{% block content %}
<div class="p-6 space-y-10">

  <h1 class="text-3xl font-bold text-gray-800 border-b pb-2">
    ğŸ’¼ çµŒç†ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰
    <span class="text-sm text-gray-500">ï¼ˆTCCæœªè³¼å…¥ãƒ¦ãƒ¼ã‚¶ãƒ¼é›†è¨ˆï¼‰</span>
  </h1>

  <!-- ğŸ’° ç·é›†è¨ˆ -->
  <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
    <div class="bg-white p-6 rounded shadow text-center border">
      <div class="text-sm text-gray-500 mb-1">å¯¾è±¡ã‚µã‚¤ãƒˆæ•°ï¼ˆç™»éŒ²æ¸ˆ + æ®‹æ ï¼‰</div>
      <div class="text-3xl font-bold text-blue-700 tracking-wider">{{ total_count }}</div>
      <div class="text-xs text-gray-400 mt-1">ä»¶</div>
    </div>
    <div class="bg-white p-6 rounded shadow text-center border">
      <div class="text-sm text-gray-500 mb-1">æ¾æœ¬é¾ä¹‹ä»‹ã¸ã®å ±é…¬</div>
      <div class="text-3xl font-bold text-green-600 tracking-wider">{{ total_ryunosuke | comma }}</div>
      <div class="text-xs text-gray-400 mt-1">å††ï¼ˆ@1000å††ï¼‰</div>
    </div>
    <div class="bg-white p-6 rounded shadow text-center border">
      <div class="text-sm text-gray-500 mb-1">æ¾æœ¬æ¯…ã¸ã®å ±é…¬</div>
      <div class="text-3xl font-bold text-purple-600 tracking-wider">{{ total_takeshi | comma }}</div>
      <div class="text-xs text-gray-400 mt-1">å††ï¼ˆ@2000å††ï¼‰</div>
    </div>
  </div>

  <!-- ğŸ“… æœˆåˆ¥å†…è¨³ -->
  <div class="bg-white p-6 rounded shadow border">
    <h2 class="text-xl font-semibold mb-4">ğŸ“… æœˆåˆ¥å†…è¨³</h2>

    {% if site_data_by_month %}
    <table class="min-w-full text-sm text-center border border-gray-300">
      <thead class="bg-gray-100 text-gray-700">
        <tr>
          <th class="py-2 px-4 border">å¹´æœˆ</th>
          <th class="py-2 px-4 border">ã‚µã‚¤ãƒˆæ•°</th>
          <th class="py-2 px-4 border">é¾ä¹‹ä»‹ï¼ˆ@1000ï¼‰</th>
          <th class="py-2 px-4 border">æ¯…ï¼ˆ@2000ï¼‰</th>
        </tr>
      </thead>
      <tbody>
        {% for month, data in site_data_by_month.items() %}
        <tr class="hover:bg-gray-50 {% if loop.index is even %}bg-gray-50{% endif %}">
          <td class="py-2 px-4 border">{{ month }}</td>
          <td class="py-2 px-4 border">{{ data.site_count }}</td>
          <td class="py-2 px-4 border">{{ data.ryunosuke_income | comma }}</td>
          <td class="py-2 px-4 border">{{ data.takeshi_income | comma }}</td>
        </tr>
        {% endfor %}
        <!-- âœ… åˆè¨ˆè¡Œ -->
        <tr class="bg-yellow-50 font-bold">
          <td class="py-2 px-4 border">åˆè¨ˆ</td>
          <td class="py-2 px-4 border">{{ total_count }}</td>
          <td class="py-2 px-4 border">{{ total_ryunosuke | comma }}</td>
          <td class="py-2 px-4 border">{{ total_takeshi | comma }}</td>
        </tr>
      </tbody>
    </table>
    {% else %}
      <p class="text-center text-gray-500 mt-6">ğŸ“­ æœˆåˆ¥ãƒ‡ãƒ¼ã‚¿ã¯ã¾ã ã‚ã‚Šã¾ã›ã‚“ã€‚</p>
    {% endif %}
  </div>

</div>
{% endblock %}
