{% extends "base.html" %}
{% block title %}Dashboard | SITE CRAFT{% endblock %}

{% block content %}

<!-- ✅ ロゴ + プロフィール（横並び） -->
<div class="flex justify-between items-center px-10 mt-10 mb-16">
  <div class="text-center w-full">
    <h1 class="text-7xl font-extrabold tracking-wider leading-tight">
      <span class="text-blue-600">S</span>
      <span class="text-red-600">I</span>
      <span class="text-yellow-500">T</span>
      <span class="text-blue-600">E</span>
      <span class="ml-6 text-green-600">C</span>
      <span class="text-red-600">R</span>
      <span class="text-yellow-500">A</span>
      <span class="text-blue-600">F</span>
      <span class="text-green-600">T</span>
    </h1>
  </div>
  <div class="absolute top-10 right-10">
    <div class="flex items-center space-x-2 bg-gray-100 px-4 py-2 rounded-full shadow">
      <span class="text-gray-700 font-semibold">{{ current_user.username }}</span>
    </div>
  </div>
</div>

<!-- ✅ 数字情報 -->
<div class="grid md:grid-cols-4 gap-6 justify-center mt-10 mb-20 px-6">
  <div class="bg-white shadow rounded p-6 text-center">
    <p class="text-xl font-bold text-green-700 mb-2">投稿完了</p>
    <p class="text-4xl font-extrabold text-green-700">{{ posted or 0 }}</p>
  </div>
  <div class="bg-white shadow rounded p-6 text-center">
    <p class="text-xl font-bold text-blue-600 mb-2">投稿待機中</p>
    <p class="text-4xl font-extrabold text-blue-600">{{ done or 0 }}</p>
  </div>
  <div class="bg-white shadow rounded p-6 text-center">
    <p class="text-xl font-bold text-gray-900 mb-2">総記事数</p>
    <p class="text-4xl font-extrabold text-gray-900">{{ total_articles or 0 }}</p>
  </div>
  <div class="bg-white shadow rounded p-6 text-center">
    <p class="text-xl font-bold text-red-600 mb-2">エラー</p>
    <p class="text-4xl font-extrabold text-red-600">{{ error or 0 }}</p>
  </div>
</div>

<!-- ✅ 歩くロボット -->
<div class="flex justify-center mb-24">
  <div class="relative w-[200px] h-[200px] overflow-visible">
    <img id="robotImage"
         src="{{ url_for('static', filename='images/robot.png') }}"
         alt="ロボット"
         class="w-28 h-auto absolute animate-walk"
         onclick="robotTalk();" />
    <div id="speechBubble"
         class="absolute left-36 bottom-20 bg-yellow-100 text-black text-sm px-3 py-2 rounded shadow-lg border border-gray-300 hidden z-30">
    </div>
  </div>
</div>

<!-- ✅ ロボットトーク機能だけ残す -->
<script>
  const phrases = [
    "今日もいい記事を書こう！",
    "クリックありがとう！",
    "SEOもバッチリ対応中！",
    "自動化は最高だよね！",
    "ロボも歩いてるよ！"
  ];

  function robotTalk() {
    const bubble = document.getElementById('speechBubble');
    const random = phrases[Math.floor(Math.random() * phrases.length)];
    bubble.textContent = random;
    bubble.classList.remove('hidden');
    setTimeout(() => bubble.classList.add('hidden'), 2500);
  }
</script>

<!-- ✅ アニメーションCSS -->
<style>
  @keyframes walk {
    0% { transform: translateX(0); }
    50% { transform: translateX(60px); }
    100% { transform: translateX(0); }
  }

  .animate-walk {
    animation: walk 3s ease-in-out infinite;
  }
</style>

{% endblock %}
