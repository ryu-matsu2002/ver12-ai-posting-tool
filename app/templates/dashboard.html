{% extends "base.html" %}
{% block title %}ダッシュボード | TCC autowize{% endblock %}

{% block content %}
<h2 class="text-2xl font-semibold mb-6">ダッシュボード</h2>

<!-- 上部統計エリア -->
<div class="grid md:grid-cols-4 gap-6 mb-8">
  <div class="bg-white dark:bg-gray-800 p-6 rounded shadow text-center">
    <h3 class="text-sm font-semibold text-green-700">投稿完了</h3>
    <p class="text-3xl font-bold text-green-700 mt-2">{{ g.posted or 0 }}</p>
  </div>
  <div class="bg-white dark:bg-gray-800 p-6 rounded shadow text-center">
    <h3 class="text-sm font-semibold text-blue-600">投稿待機中</h3>
    <p class="text-3xl font-bold text-blue-600 mt-2">{{ g.done or 0 }}</p>
  </div>
  <div class="bg-white dark:bg-gray-800 p-6 rounded shadow text-center">
    <h3 class="text-sm font-semibold text-gray-800">総記事数</h3>
    <p class="text-3xl font-bold mt-2">{{ g.total_articles or 0 }}</p>
  </div>
  <div class="bg-white dark:bg-red-100 p-6 rounded shadow text-center">
    <h3 class="text-sm font-semibold text-red-500">エラー</h3>
    <p class="text-3xl font-bold text-red-600 mt-2">{{ g.error or 0 }}</p>
  </div>
</div>

<!-- 下部機能カードエリア -->
<div class="grid md:grid-cols-5 gap-4">
  <!-- 記事生成 -->
  <a href="{{ url_for('main.generate') }}"
     class="bg-white dark:bg-gray-800 p-4 rounded shadow hover:shadow-lg text-center transition duration-200">
    <div class="flex justify-center mb-2">
      <i class="fas fa-pen-nib text-2xl text-gray-600"></i>
    </div>
    <div class="font-semibold text-sm">記事生成</div>
    <p class="text-xs text-gray-500 mt-1">キーワードを元に記事作成と投稿を行えます</p>
  </a>

  <!-- 新規サイト登録 -->
  <a href="{{ url_for('main.sites') }}"
     class="bg-white dark:bg-gray-800 p-4 rounded shadow hover:shadow-lg text-center transition duration-200">
    <div class="flex justify-center mb-2">
      <i class="fas fa-globe text-2xl text-gray-600"></i>
    </div>
    <div class="font-semibold text-sm">新規サイト登録</div>
    <p class="text-xs text-gray-500 mt-1">WordPressサイトを登録し投稿先を管理</p>
  </a>

  <!-- プロンプト登録 -->
  <a href="{{ url_for('main.prompts') }}"
     class="bg-white dark:bg-gray-800 p-4 rounded shadow hover:shadow-lg text-center transition duration-200">
    <div class="flex justify-center mb-2">
      <i class="fas fa-scroll text-2xl text-gray-600"></i>
    </div>
    <div class="font-semibold text-sm">プロンプト登録</div>
    <p class="text-xs text-gray-500 mt-1">記事生成用プロンプトテンプレートを管理</p>
  </a>

  <!-- ChatGPT -->
  <a href="{{ url_for('main.chatgpt') }}"
     class="bg-white dark:bg-gray-800 p-4 rounded shadow hover:shadow-lg text-center transition duration-200">
    <div class="flex justify-center mb-2">
      <i class="fas fa-robot text-2xl text-gray-600"></i>
    </div>
    <div class="font-semibold text-sm">ChatGPT</div>
    <p class="text-xs text-gray-500 mt-1">ChatGPTの公式ページを別タブで開きます</p>
  </a>

  <!-- 管理者のみ：ユーザー管理（任意） -->
  {% if current_user.is_admin %}
  <a href="{{ url_for('admin.admin_users') }}"
     class="bg-white dark:bg-gray-800 p-4 rounded shadow hover:shadow-lg text-center transition duration-200">
    <div class="flex justify-center mb-2">
      <i class="fas fa-users-cog text-2xl text-gray-600"></i>
    </div>
    <div class="font-semibold text-sm">ユーザー管理</div>
    <p class="text-xs text-gray-500 mt-1">管理者専用：ユーザーとサイト情報を確認</p>
  </a>
  {% endif %}
</div>
{% endblock %}
