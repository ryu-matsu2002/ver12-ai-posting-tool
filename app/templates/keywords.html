{% extends "base.html" %}
{% block title %}ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰ç®¡ç†{% endblock %}

{% block content %}
<h2 class="text-2xl font-bold mb-6">ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰ç®¡ç†</h2>

<!-- ğŸ” ãƒ•ã‚£ãƒ«ã‚¿ãƒ•ã‚©ãƒ¼ãƒ  -->
<form method="get" class="mb-6 flex flex-wrap gap-4">
  <div>
    <label class="block mb-1 font-semibold">ã‚¸ãƒ£ãƒ³ãƒ«</label>
    <select name="genre" class="p-2 border rounded">
      <option value="">ã™ã¹ã¦</option>
      {% for g in genre_choices %}
        <option value="{{ g }}" {% if g == selected_genre %}selected{% endif %}>{{ g }}</option>
      {% endfor %}
    </select>
  </div>
  <div>
    <label class="block mb-1 font-semibold">ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹</label>
    <select name="status" class="p-2 border rounded">
      <option value="">ã™ã¹ã¦</option>
      <option value="unused" {% if selected_status == 'unused' %}selected{% endif %}>â³ æœªä½¿ç”¨</option>
      <option value="used" {% if selected_status == 'used' %}selected{% endif %}>âœ… ä½¿ç”¨æ¸ˆã¿</option>
    </select>
  </div>
  <div class="self-end">
    <button type="submit" class="bg-gray-600 text-white px-4 py-2 rounded hover:bg-gray-700">çµã‚Šè¾¼ã¿</button>
  </div>
</form>

<!-- ğŸ“ ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰ç™»éŒ²ãƒ•ã‚©ãƒ¼ãƒ  -->
<form method="post" class="mb-8 p-6 bg-white dark:bg-gray-800 rounded shadow space-y-4">
  {{ form.hidden_tag() }}

  <div>
    {{ form.words.label(class="block font-semibold mb-1") }}
    {{ form.words(class="w-full p-2 border rounded", rows=5) }}
  </div>

  <div>
    {{ form.genre.label(class="block font-semibold mb-1") }}
    {{ form.genre(class="w-full p-2 border rounded") }}
  </div>

  {{ form.submit(class="bg-blue-600 hover:bg-blue-700 text-white py-2 px-6 rounded") }}
</form>

<!-- ğŸ“‹ ä¸€è¦§ãƒ†ãƒ¼ãƒ–ãƒ« -->
<h3 class="text-xl font-semibold mb-4">ç™»éŒ²æ¸ˆã¿ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰</h3>
<table class="w-full table-auto text-sm bg-white dark:bg-gray-800">
  <thead class="bg-gray-200 dark:bg-gray-700">
    <tr>
      <th class="px-3 py-2 text-left">ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰</th>
      <th class="px-3 py-2 text-left">ã‚¸ãƒ£ãƒ³ãƒ«</th>
      <th class="px-3 py-2 text-left">ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹</th>
    </tr>
  </thead>
  <tbody>
    {% for kw in keywords %}
    <tr class="{% if loop.index0 % 2 == 0 %}bg-white{% else %}bg-gray-50 dark:bg-gray-700{% endif %}">
      <td class="px-3 py-2">{{ kw.keyword }}</td>
      <td class="px-3 py-2">{{ kw.genre or 'â€•' }}</td>
      <td class="px-3 py-2">{{ 'âœ… ä½¿ç”¨æ¸ˆã¿' if kw.used else 'â³ æœªä½¿ç”¨' }}</td>
    </tr>
    {% endfor %}
  </tbody>
</table>
{% endblock %}
